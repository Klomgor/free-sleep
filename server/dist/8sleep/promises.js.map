{"version":3,"file":"promises.js","sources":["8sleep/promises.ts"],"sourceRoot":"/","sourcesContent":["// @ts-nocheck\n// This was copied straight from the @eight/promises packages\n// I was concerned they might remove the packages from npm if they want to prevent people from researching free-sleep\n//\n// So I made a copy of their packages here, so we don't depend on being able to install\n// @eight/promises && @eight/promise-streams\n\nexport function toPromise(func) {\n  return new Promise((resolve, reject) => {\n    func((err, result) => {\n      if (err) {\n        reject(err);\n      }\n      else {\n        resolve(result);\n      }\n    });\n  });\n}\n\nexport function wait(milliseconds) {\n  let timer;\n  let resolve;\n  const ret = new Promise(res => {\n    timer = setTimeout(res, milliseconds);\n    resolve = res;\n  });\n  ret.cancel = () => {\n    clearTimeout(timer);\n    resolve();\n  };\n  return ret;\n}\n"],"names":[],"mappings":"AAAA,cAAc;AACd,6DAA6D;AAC7D,qHAAqH;AACrH,EAAE;AACF,uFAAuF;AACvF,4CAA4C;;;AAE5C,MAAM,UAAU,SAAS,CAAC,IAAI;IAC5B,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;YACnB,IAAI,GAAG,EAAE,CAAC;gBACR,MAAM,CAAC,GAAG,CAAC,CAAC;YACd,CAAC;iBACI,CAAC;gBACJ,OAAO,CAAC,MAAM,CAAC,CAAC;YAClB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,UAAU,IAAI,CAAC,YAAY;IAC/B,IAAI,KAAK,CAAC;IACV,IAAI,OAAO,CAAC;IACZ,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,EAAE;QAC5B,KAAK,GAAG,UAAU,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;QACtC,OAAO,GAAG,GAAG,CAAC;IAChB,CAAC,CAAC,CAAC;IACH,GAAG,CAAC,MAAM,GAAG,GAAG,EAAE;QAChB,YAAY,CAAC,KAAK,CAAC,CAAC;QACpB,OAAO,EAAE,CAAC;IACZ,CAAC,CAAC;IACF,OAAO,GAAG,CAAC;AACb,CAAC","debug_id":"93fd6816-2749-5d68-b104-0e043037fad0"}