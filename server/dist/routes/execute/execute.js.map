{"version":3,"file":"execute.js","sources":["routes/execute/execute.ts"],"sourceRoot":"/","sourcesContent":["import express, { Request, Response } from 'express';\nimport { frankenCommands, executeFunction } from '../../8sleep/deviceApi.js';\n\nconst router = express.Router();\n\nrouter.post('/execute', async (req: Request, res: Response) => {\n  const { command, arg } = req.body;\n\n  // Basic validation\n  if (!Object.keys(frankenCommands).includes(command)) {\n    res.status(400).send('Invalid command');\n    return;\n  }\n\n  // Execute the 8sleep command\n  await executeFunction(command as keyof typeof frankenCommands, arg || 'empty');\n\n  // Respond with success\n  res.json({ success: true, message: `Command '${command}' executed successfully.` });\n  return;\n});\n\nexport default router;\n"],"names":[],"mappings":";;AAAA,OAAO,OAA8B,MAAM,SAAS,CAAC;AACrD,OAAO,EAAE,eAAe,EAAE,eAAe,EAAE,MAAM,2BAA2B,CAAC;AAE7E,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;IAC5D,MAAM,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAElC,mBAAmB;IACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;QACpD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACxC,OAAO;IACT,CAAC;IAED,6BAA6B;IAC7B,MAAM,eAAe,CAAC,OAAuC,EAAE,GAAG,IAAI,OAAO,CAAC,CAAC;IAE/E,uBAAuB;IACvB,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,YAAY,OAAO,0BAA0B,EAAE,CAAC,CAAC;IACpF,OAAO;AACT,CAAC,CAAC,CAAC;AAEH,eAAe,MAAM,CAAC","debug_id":"8c5336d6-4f37-5233-81a6-15bba1c7cd07"}